#:kivy 1.10.0

ScreenManagement:
    MainScreen:
    SettingsScreen:
    ListScreen:

<MainScreen>:
    name: "main"
    BoxLayout:
        orientation:'vertical'
        BoxLayout:
            orientation:'horizontal'
            Label:
                text:root.output_label
                size_hint_y:1
                font_size:'50sp'
            Label:
                text:root.last_cut
                size_hint_y:1
                font_size:'30sp'

            GridLayout:
                rows:2
                size_hint_y:1
                GridLayout:
                    cols:2
                    size_hint_y:1
                    Button:
                        background_color: (0, 0, 0, 1.0)
                        on_press: root.manager.current = 'list'
                        Image:
                            source: 'list.png'
                            y: self.parent.y + (self.parent.height/2) - 20
                            x: self.parent.x + (self.parent.width/2) - 20
                            size: 40, 40
                            allow_stretch: True
                    Button:
                        background_color: (0, 0, 0, 1.0)
                        on_press: root.manager.current = 'settings'
                        Image:
                            source: 'settings.png'
                            y: self.parent.y + (self.parent.height/2) - 20
                            x: self.parent.x + (self.parent.width/2) - 20
                            size: 40, 40
                            allow_stretch: True
                Button:
                    background_color: (0, 0, 0, 1.0)


        GridLayout:
            cols:3
            size_hint_y:2
            Button:
                text:'1'
                on_press: root.button_call_back('1')
            Button:
                text:'2'
                on_press: root.button_call_back('2')
            Button:
                text:'3'
                on_press: root.button_call_back('3')
            Button:
                text:'4'
                on_press: root.button_call_back('4')
            Button:
                text:'5'
                on_press: root.button_call_back('5')
            Button:
                text:'6'
                on_press: root.button_call_back('6')
            Button:
                text:'7'
                on_press: root.button_call_back('7')
            Button:
                text:'8'
                on_press: root.button_call_back('8')
            Button:
                text:'9'
                on_press: root.button_call_back('9')
            Button:
                text:'<'
                on_press: root.button_call_back('<')
            Button:
                text:'0'
                on_press: root.button_call_back('0')
            Button:
                text:'.'
                on_press: root.button_call_back('.')


        BoxLayout:
            orientation:'horizontal'
            padding:[0, 50, 0, 0]
            Button:
                background_color: (0, 128, 0, 0.5)
                text:'START'
                size_hint_y:None
                height:100
                on_press: root.start()


<SettingsScreen>:
    name: "settings"
    BoxLayout:
        orientation:'vertical'
        BoxLayout:
            orientation:'horizontal'
            Label:
                size_hint_y:1
                text:"Offset"
                font_size:'30sp'

            Label:
                size_hint_y:1
                text:root.manager.offset_label
                font_size:'30sp'

        GridLayout:
            cols:3
            size_hint_y:2
            Button:
                text:'1'
                on_press: root.button_call_back('1')
            Button:
                text:'2'
                on_press: root.button_call_back('2')
            Button:
                text:'3'
                on_press: root.button_call_back('3')
            Button:
                text:'4'
                on_press: root.button_call_back('4')
            Button:
                text:'5'
                on_press: root.button_call_back('5')
            Button:
                text:'6'
                on_press: root.button_call_back('6')
            Button:
                text:'7'
                on_press: root.button_call_back('7')
            Button:
                text:'8'
                on_press: root.button_call_back('8')
            Button:
                text:'9'
                on_press: root.button_call_back('9')
            Button:
                text:'<'
                on_press: root.button_call_back('<')
            Button:
                text:'0'
                on_press: root.button_call_back('0')
            Button:
                text:'.'
                on_press: root.button_call_back('.')

        BoxLayout:
            orientation:'horizontal'
            padding:[0, 50, 0, 0]
            Button:
                background_color: (0, 128, 0, 0.5)
                text:'SAVE'
                size_hint_y:None
                height:100
                on_press: root.save()


<ListScreen>:
    name: "list"
    BoxLayout:
        orientation:'vertical'
        Button:
            background_color: (0, 128, 0, 0.5)
            text:'READFILE'
            size_hint_y:None
            height:100
            on_press: root.start()
        BoxLayout:
            orientation:'horizontal'
            Label:
                size_hint_y:None
                text:root.manager.host_name
                font_size:'20sp'

        BoxLayout:
            orientation:'horizontal'
            padding:[0, 50, 0, 0]
            Button:
                background_color: (0, 128, 0, 0.5)
                text:'START'
                size_hint_y:None
                height:100
                on_press: root.start()

<NoUpdatesPopup>:
    id:pop
    size_hint: .4, .2
    auto_dismiss: True
    title: 'Warning'
    Label:
        text: 'There are no new updates available.'

<UpdatingPopup>:
    id:pop
    size_hint: .4, .2
    title: 'UPDATE'
    Label:
        text: 'Update is running app will restart when done!'
<NoConnectionPopup>:
    id:pop
    size_hint: .4, .2
    title: 'Internet connection not available'
    Label:
        text: 'Could not update since there is no internet!'
